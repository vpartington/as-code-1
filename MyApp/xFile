# The xFile is a YAML-file which contains the information on the application
# It includes information on Environment, Infrastructure, dictionaries, and such

# The Application section contains all the relevant information about the application, including dependencies and such.
Application:
  name: MyApp
  # The deployables section contains the different deployable files and of which type they are. Dependencies can also be defined here
  deployables:
    - name: MyApp.war
      type: tomcat
      dependencies: MyApp.sql
    - name: MyApp.sql
      type: mysql
  orchestrator: sequential-by-deployment-group

# The Environment section describes the environments the application can land on. This can either be a defined infrastructure (for local development), or a link to an environment in XLD, which the application will then use
Environment:
  - name: Dev
    Infrastructure:
      - type: tomcat
        number: 2            # 2 tomcats should be created
        deployment_groups: 2 # 2 deployment groups to ensure that we don't deploy to both concurrently, works alongside the orchestrator parameter
      - type: mysql
        port: 3380
    Dictionary:
      - user: test
        pass: tester123
  - name: xld://Environment/Test
    Dictionary: xld://Environment/Test/Dictionary
  - name: xld://Environment/Acceptance
    Dictionary: xld://Environment/Acceptance/Dictionary
